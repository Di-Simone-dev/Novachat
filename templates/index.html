<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Nova Chat</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body class="bg-[#121212] text-gray-200 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-[#041f0f] text-[#2ecc71] py-4 px-6 shadow-lg">
    <div class="font-anurati text-2xl">Nova Chat</div>
  </header>

  <!-- Main Content -->
  <main class="flex-grow container mx-auto p-4 flex flex-col gap-4">
    <h1 class="text-2xl font-semibold text-center text-white">What can I help with?</h1>

    <!-- Chat Box -->
    <div id="chat-container" class="flex flex-col gap-3 bg-[#1a1a1a] rounded shadow p-4 min-h-[300px] overflow-y-auto"></div>

    <!-- Controls Section -->
    <div class="flex flex-wrap gap-4 items-center bg-[#1a1a1a] rounded shadow p-4">
      
      <!-- RAG Toggle -->
      <label class="flex items-center gap-2 cursor-pointer">
        <input type="checkbox" id="rag-toggle" class="peer sr-only">
        
        <!-- Track -->
        <div class="w-11 h-6 bg-gray-700 rounded-full relative peer-checked:bg-[#2ecc71] transition-colors duration-300">
          
          <!-- Circle -->
          <div class="absolute top-1 left-1 w-4 h-4 bg-black rounded-full transform transition-transform duration-300 peer-checked:translate-x-5"></div>
        </div>

        <span class="text-sm text-gray-200">RAG</span>
      </label>

      <!-- Guardrails Toggle -->
      <label class="flex items-center gap-2 cursor-pointer">
        <input type="checkbox" id="guardrails-toggle" class="peer sr-only">
        <div class="w-11 h-6 bg-gray-700 rounded-full peer-checked:bg-[#2ecc71] relative transition-colors">
          <div class="absolute left-1 top-1 w-4 h-4 bg-black rounded-full transition-transform peer-checked:translate-x-5"></div>
        </div>
        <span class="text-sm text-gray-200">Guardrails</span>
      </label>

      <!-- Upload Form -->
      <form id="upload-form" class="flex items-center gap-2" enctype="multipart/form-data">
        <input type="file" id="upload-input" name="file" accept=".txt"
          class="text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0
                 file:text-sm file:font-semibold file:bg-[#263b2d] file:text-[#2ecc71] hover:file:bg-[#345a47]">
        <button type="submit"
          class="inline-flex items-center gap-2 bg-[#2ecc71] text-black font-semibold py-2 px-4 rounded hover:bg-[#27ae60] transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none"
               viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5-5m0 0l5 5m-5-5v12"/>
          </svg>
          Upload
        </button>
      </form>
    </div>

    <!-- Input and Send -->
    <div class="flex gap-2">
      <input type="text" id="user-input" placeholder="Ask anything..."
        class="flex-grow rounded border border-gray-700 bg-[#121212] text-gray-200 py-2 px-4 focus:outline-none focus:ring-2 focus:ring-[#2ecc71]">
      <button id="send-btn"
        class="bg-[#2ecc71] text-black p-2 rounded hover:bg-[#27ae60] transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor"
             viewBox="0 0 20 20">
          <path
            d="M2.94 2.94a1.5 1.5 0 012.122 0L17 14.879l-1.06 1.06L4 4.06a1.5 1.5 0 010-2.121zM2 17.5V14h3.5l9.597-9.597a1.5 1.5 0 112.121 2.121L7.621 16H4a2 2 0 01-2-2v3.5a.5.5 0 001 0z" />
        </svg>
      </button>
    </div>
  </main>

  <!-- External Script -->
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
